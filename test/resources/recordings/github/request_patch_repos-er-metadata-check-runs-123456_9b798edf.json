{
    "method": "PATCH",
    "requestUrl": "https://api.github.com/repos/interhyp-intern-test/service-metadata/check-runs/123456?per_page=100",
    "requestBody": "{\"name\":\"only-valid-metadata-changes\",\"status\":\"completed\",\"conclusion\":\"failure\",\"completed_at\":\"2022-11-06T18:14:10Z\",\"output\":{\"title\":\"Failed YAML validation\",\"summary\":\"There were files failing the validation. See Annotations.\",\"annotations\":[{\"path\":\"owners/some-owner/repositories/some-service-backend-with-expandable-groups.helm-deployment.yaml\",\"start_line\":3,\"end_line\":3,\"annotation_level\":\"failure\",\"message\":\"field deployment not found in type openapi.RepositoryDto\"},{\"path\":\"owners/some-owner/repositories/some-service-backend-with-expandable-groups.helm-deployment.yaml\",\"start_line\":1,\"end_line\":1,\"annotation_level\":\"failure\",\"message\":\"  mainline: main                                                                                                          mainline: main\\n  url: ssh://git@bitbucket.some-organisation.com:7999/PROJECT/some-service-backend-with-expandable-groups-deployment.git  url: ssh://git@bitbucket.some-organisation.com:7999/PROJECT/some-service-backend-with-expandable-groups-deployment.git\\n  deployment:                                                                                                             deployment:\\n    kubernetes:                                                                                                             kubernetes:\\n      instances:                                                                                                              instances:\\n-     - namespace: project                                                                                                      - namespace: project\\n-       environment: prod                                                                                                         environment: prod\\n-       cluster: openshift                                                                                                        cluster: openshift\\n-     - namespace: project                                                                                                      - namespace: project\\n-       environment: dev                                                                                                          environment: dev\\n-       cluster: openshift                                                                                                        cluster: openshift\\n-     - namespace: project                                                                                                      - namespace: project\\n-       environment: test                                                                                                         environment: test\\n-       cluster: openshift                                                                                                        cluster: openshift\\n-     - namespace: project                                                                                                      - namespace: project\\n-       environment: livetest                                                                                                     environment: livetest\\n-       cluster: openshift                                                                                                        cluster: openshift\\n  generator: third-party-software                                                                                         generator: third-party-software\\n  configuration:                                                                                                          configuration:\\n    accessKeys:                                                                                                             accessKeys:\\n-   - key: DEPLOYMENT                                                                                                         - key: DEPLOYMENT\\n-     permission: REPO_READ                                                                                                     permission: REPO_READ\\n-   - data: 'ssh-key abcdefgh.....'                                                                                           - data: 'ssh-key abcdefgh.....'\\n-     permission: REPO_WRITE                                                                                                    permission: REPO_WRITE\\n    commitMessageType: DEFAULT                                                                                              commitMessageType: DEFAULT\\n    mergeConfig:                                                                                                            mergeConfig:\\n      defaultStrategy:                                                                                                        defaultStrategy:\\n        id: \\\"no-ff\\\"                                                                                                             id: \\\"no-ff\\\"\\n      strategies:                                                                                                             strategies:\\n        - id: \\\"no-ff\\\"                                                                                                           - id: \\\"no-ff\\\"\\n        - id: \\\"ff\\\"                                                                                                              - id: \\\"ff\\\"\\n        - id: \\\"ff-only\\\"                                                                                                         - id: \\\"ff-only\\\"\\n        - id: \\\"squash\\\"                                                                                                          - id: \\\"squash\\\"\\n    requireIssue: true                                                                                                      requireIssue: true\\n    watchers:                                                                                                               watchers:\\n      - '@some-owner.users'                                                                                                   - '@some-owner.users'\\n    refProtections:                                                                                                         refProtections:\\n      branches:                                                                                                               branches:\\n        requirePR:                                                                                                              requirePR:\\n          - pattern: ':MAINLINE:'                                                                                                 - pattern: ':MAINLINE:'\\n            exemptions:                                                                                                             exemptions:\\n              - '@some-owner.users'                                                                                                   - '@some-owner.users'\\n    approvers:                                                                                                              approvers:\\n      testing:                                                                                                                testing:\\n-     - '@some-owner.users'                                                                                                     - '@some-owner.users'\\n                                                                                                                          \",\"title\":\"This file contains 17 formatting errors.\\nYou can use the \\\"Fix formatting\\\" action of this check to automatically reformat the files.\"},{\"path\":\"owners/some-owner/repositories/some-service-backend.helm-deployment.yaml\",\"start_line\":3,\"end_line\":3,\"annotation_level\":\"failure\",\"message\":\"field deployment not found in type openapi.RepositoryDto\"},{\"path\":\"owners/some-owner/repositories/some-service-backend.helm-deployment.yaml\",\"start_line\":1,\"end_line\":1,\"annotation_level\":\"failure\",\"message\":\"  mainline: main                                                                                   mainline: main\\n  url: ssh://git@bitbucket.some-organisation.com:7999/PROJECT/some-service-backend-deployment.git  url: ssh://git@bitbucket.some-organisation.com:7999/PROJECT/some-service-backend-deployment.git\\n  deployment:                                                                                      deployment:\\n    kubernetes:                                                                                      kubernetes:\\n      instances:                                                                                       instances:\\n-     - namespace: project                                                                               - namespace: project\\n-       environment: prod                                                                                  environment: prod\\n-       cluster: openshift                                                                                 cluster: openshift\\n-     - namespace: project                                                                               - namespace: project\\n-       environment: dev                                                                                   environment: dev\\n-       cluster: openshift                                                                                 cluster: openshift\\n-     - namespace: project                                                                               - namespace: project\\n-       environment: test                                                                                  environment: test\\n-       cluster: openshift                                                                                 cluster: openshift\\n-     - namespace: project                                                                               - namespace: project\\n-       environment: livetest                                                                              environment: livetest\\n-       cluster: openshift                                                                                 cluster: openshift\\n  generator: third-party-software                                                                  generator: third-party-software\\n  configuration:                                                                                   configuration:\\n    accessKeys:                                                                                      accessKeys:\\n-   - key: DEPLOYMENT                                                                                  - key: DEPLOYMENT\\n-     permission: REPO_READ                                                                              permission: REPO_READ\\n-   - data: 'ssh-key abcdefgh.....'                                                                    - data: 'ssh-key abcdefgh.....'\\n-     permission: REPO_WRITE                                                                             permission: REPO_WRITE\\n    commitMessageType: DEFAULT                                                                       commitMessageType: DEFAULT\\n    mergeConfig:                                                                                     mergeConfig:\\n      defaultStrategy:                                                                                 defaultStrategy:\\n        id: \\\"no-ff\\\"                                                                                      id: \\\"no-ff\\\"\\n      strategies:                                                                                      strategies:\\n        - id: \\\"no-ff\\\"                                                                                    - id: \\\"no-ff\\\"\\n        - id: \\\"ff\\\"                                                                                       - id: \\\"ff\\\"\\n        - id: \\\"ff-only\\\"                                                                                  - id: \\\"ff-only\\\"\\n        - id: \\\"squash\\\"                                                                                   - id: \\\"squash\\\"\\n    requireIssue: true                                                                               requireIssue: true\\n    approvers:                                                                                       approvers:\\n      testing:                                                                                         testing:\\n-     - some-user                                                                                        - some-user\\n                                                                                                   \",\"title\":\"This file contains 17 formatting errors.\\nYou can use the \\\"Fix formatting\\\" action of this check to automatically reformat the files.\"},{\"path\":\"owners/some-owner/services/some-service-backend-with-expandable-groups.yaml\",\"start_line\":1,\"end_line\":1,\"annotation_level\":\"failure\",\"message\":\"  quicklinks:                                                    quicklinks:\\n- - title: Swagger UI                                              - title: Swagger UI\\n-   url: /swagger-ui/index.html                                      url: /swagger-ui/index.html\\n  repositories:                                                  repositories:\\n- - some-service-backend-with-expandable-groups/helm-deployment    - some-service-backend-with-expandable-groups/helm-deployment\\n- - some-service-backend/implementation                            - some-service-backend/implementation\\n  alertTarget: https://webhook.com/9asdflk29d4m39g               alertTarget: https://webhook.com/9asdflk29d4m39g\\n                                                                 \",\"title\":\"This file contains 4 formatting errors.\\nYou can use the \\\"Fix formatting\\\" action of this check to automatically reformat the files.\"},{\"path\":\"owners/some-owner/services/some-service-backend.yaml\",\"start_line\":1,\"end_line\":1,\"annotation_level\":\"failure\",\"message\":\"  quicklinks:                                       quicklinks:\\n- - title: Swagger UI                                 - title: Swagger UI\\n-   url: /swagger-ui/index.html                         url: /swagger-ui/index.html\\n  repositories:                                     repositories:\\n    - some-service-backend/helm-deployment            - some-service-backend/helm-deployment\\n    - some-service-backend/implementation             - some-service-backend/implementation\\n  alertTarget: https://webhook.com/9asdflk29d4m39g  alertTarget: https://webhook.com/9asdflk29d4m39g\\n                                                    \",\"title\":\"This file contains 2 formatting errors.\\nYou can use the \\\"Fix formatting\\\" action of this check to automatically reformat the files.\"}]},\"actions\":[{\"label\":\"Fix formatting\",\"description\":\"Adds a new commit with fixed formatting.\",\"identifier\":\"fix-formatting\"}]}\n",
    "parsedResponse": {
        "Body": "{\n  \"id\": 123456,\n  \"name\": \"only-valid-metadata-changes\",\n  \"head_sha\": \"a800c51995d3f3ee0ca110fa5fd93a772eaff381\",\n  \"status\": \"completed\",\n  \"conclusion\": \"failure\",\n  \"started_at\": \"2022-11-06T18:14:10Z\",\n  \"completed_at\": \"2022-11-06T18:14:10Z\",\n  \"output\": {\"title\":\"Failed YAML validation\",\"summary\":\"There were files failing the validation. See Annotations.\",\"annotations\":[{\"path\":\"owners/some-owner/repositories/some-service-backend-with-expandable-groups.helm-deployment.yaml\",\"start_line\":3,\"end_line\":3,\"annotation_level\":\"failure\",\"message\":\"field deployment not found in type openapi.RepositoryDto\"},{\"path\":\"owners/some-owner/repositories/some-service-backend.helm-deployment.yaml\",\"start_line\":3,\"end_line\":3,\"annotation_level\":\"failure\",\"message\":\"field deployment not found in type openapi.RepositoryDto\"}],\n    \"annotations_count\": 2\n  },\n  \"check_suite\": {\n    \"id\": 123456789\n  },\n  \"app\": {\n    \"id\": 12345,\n    \"slug\": \"metadata-dev\",\n    \"owner\": {\n      \"login\": \"some-app-owner\",\n      \"id\": 1234567      \n    },\n    \"name\": \"metadata dev\",\n    \"description\": \"\",\n    \"permissions\": {\n      \"checks\": \"write\",\n      \"contents\": \"read\",\n      \"metadata\": \"read\"\n    },\n    \"events\": [\n      \"check_run\",\n      \"check_suite\",\n      \"pull_request\"\n    ]\n  },\n  \"pull_requests\": [\n    {\n      \"id\": 12345678987654321,\n      \"number\": 15,\n      \"head\": {\n        \"ref\": \"some-ref\",\n        \"sha\": \"a800c51995d3f3ee0ca110fa5fd93a772eaff381\",\n        \"repo\": {\n          \"id\": 123456789123456789,\n          \"name\": \"service-metadata\"\n        }\n      },\n      \"base\": {\n        \"ref\": \"main\",\n        \"sha\": \"c608f5c195adb6607b46c67ce446c97174a062d0\",\n        \"repo\": {\n          \"id\": 123456789123456789,\n          \"name\": \"service-metadata\"\n        }\n      }\n    }\n  ]\n}",
        "Status": 200,
        "Header": {
            "Access-Control-Allow-Origin": [
                "*"
            ],
            "Access-Control-Expose-Headers": [
                "ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset"
            ],
            "Cache-Control": [
                "private, max-age=60, s-maxage=60"
            ],
            "Content-Security-Policy": [
                "default-src 'none'"
            ],
            "Content-Type": [
                "application/json; charset=utf-8"
            ],
            "Date": [
                "Tue, 25 Feb 2025 13:44:39 GMT"
            ],
            "Etag": [
                "W/\"16896af1d94ce9d76b0ae8236e5cce0a1e8f8a1a9c3330854a4ecae2428548cd\""
            ],
            "Referrer-Policy": [
                "origin-when-cross-origin, strict-origin-when-cross-origin"
            ],
            "Server": [
                "github.com"
            ],
            "Strict-Transport-Security": [
                "max-age=31536000; includeSubdomains; preload"
            ],
            "Vary": [
                "Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With"
            ],
            "X-Accepted-Github-Permissions": [
                "checks=write"
            ],
            "X-Content-Type-Options": [
                "nosniff"
            ],
            "X-Frame-Options": [
                "deny"
            ],
            "X-Github-Api-Version-Selected": [
                "2022-11-28"
            ],
            "X-Github-Media-Type": [
                "github.v3; param=antiope-preview; format=json"
            ],
            "X-Github-Request-Id": [
                "16D9:1993E9:319D57:32A73E:67BDC947"
            ],
            "X-Ratelimit-Limit": [
                "15000"
            ],
            "X-Ratelimit-Remaining": [
                "14985"
            ],
            "X-Ratelimit-Reset": [
                "1740493304"
            ],
            "X-Ratelimit-Resource": [
                "core"
            ],
            "X-Ratelimit-Used": [
                "15"
            ],
            "X-Xss-Protection": [
                "0"
            ]
        },
        "Time": "2025-02-25T14:44:38.616101676+01:00"
    }
}